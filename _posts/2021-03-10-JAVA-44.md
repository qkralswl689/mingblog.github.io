---
layout: post
title: "JAVA-ë„¤íŠ¸ì›Œí¬ í”„ë¡œê·¸ë˜ë° êµ¬í˜„ - ëŠ¥ë ¥í‰ê°€"
date: 2021-03-10
category : [JAVA]
comments: true
---

# ğŸ”¶ JAVA- ë„¤íŠ¸ì›Œí¬ í”„ë¡œê·¸ë˜ë° êµ¬í˜„ - ëŠ¥ë ¥í‰ê°€

## âœ” ë¬¸ì œ 1
![ë„¤íŠ¸ì›Œí¬ í”„ë¡œê·¸ë˜ë° êµ¬í˜„ ë¬¸1](https://user-images.githubusercontent.com/65608960/110794859-88c36700-82b9-11eb-9095-b068660272ce.JPG)

- ë‚´ê°€ ì œì¶œí•œ ë‹µì•ˆ

        1. ì„œë²„, ë„¤íŠ¸ì›Œí¬ ë“±ì˜ ìµœì  êµ¬ì„± ìœ„í•œ í† í´ë¡œì§€ êµ¬ì„± í˜•íƒœë¥¼ í™•ì¸í•œë‹¤.
        2. ì‹ ê·œ ì„œë²„ ì¶”ê°€, ì„œë²„ ë‚´ë¶€ ì¥ì¹˜ ë“±ì˜ í™•ì¥ì„± ì§€ì¹¨ì„ í™•ì¸í•œë‹¤.
        3. ì„œë²„ ë° ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•´ ì§€ì›ë˜ëŠ” ìš´ì˜ì²´ì œê°€ ì‹¤í–‰ë˜ëŠ”ì§€ í™•ì¸í•œë‹¤
        4. í•˜ë“œì›¨ì–´(CPU, ë©”ëª¨ë¦¬, í•˜ë“œë””ìŠ¤í¬, ê·¸ë˜í”½ ë“±)ì˜ ê¶Œì¥ì‚¬í•­ì„ í™•ì¸í•œë‹¤.
        5. ì„œë²„ ë° ë°ì´í„°ë² ì´ìŠ¤ì˜ ê³µê°„ ìš”êµ¬ì‚¬í•­ì„ í™•ì¸í•œë‹¤.
        6. ê´€ë¦¬ ì„œë²„ì˜ ì‚¬ì „ ì„¤ì¹˜ ì†Œí”„íŠ¸ì›¨ì–´ê°€ ì„¤ì¹˜ë˜ëŠ”ì§€ í™•ì¸í•œë‹¤. 
        7. ë³´ì•ˆ ê³ ë ¤ì‚¬í•­(Secure OS ì ìš©ê°€ëŠ¥ì„± ë“±)ì„ ì ê²€í•œë‹¤.

- ë‹µì•ˆ

        (ê°€) ì„œë²„, ë„¤íŠ¸ì›Œí¬ ë“±ì˜ ìµœì  êµ¬ì„± ìœ„í•œ í† í´ë¡œì§€ êµ¬ì„± í˜•íƒœë¥¼ í™•ì¸í•œë‹¤.
        (ë‚˜) ì‹ ê·œ ì„œë²„ ì¶”ê°€, ì„œë²„ ë‚´ë¶€ ì¥ì¹˜ ë“±ì˜ í™•ì¥ì„± ì§€ì¹¨ì„ í™•ì¸í•œë‹¤.
        (ë‹¤) ì„œë²„ ë° ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•´ ì§€ì›ë˜ëŠ” ìš´ì˜ì²´ì œê°€ ì‹¤í–‰ë˜ëŠ”ì§€ í™•ì¸í•œë‹¤.
        (ë¼) í•˜ë“œì›¨ì–´(CPU, ë©”ëª¨ë¦¬, í•˜ë“œë””ìŠ¤í¬, ê·¸ë˜í”½ ë“±)ì˜ ê¶Œì¥ì‚¬í•­ì„ í™•ì¸í•œë‹¤.
        (ë§ˆ) ì„œë²„ ë° ë°ì´í„°ë² ì´ìŠ¤ì˜ ê³µê°„ ìš”êµ¬ì‚¬í•­ì„ í™•ì¸í•œë‹¤.
        (ë°”) ê´€ë¦¬ ì„œë²„ì˜ ì‚¬ì „ ì„¤ì¹˜ ì†Œí”„íŠ¸ì›¨ì–´ê°€ ì„¤ì¹˜ë˜ëŠ”ì§€ í™•ì¸í•œë‹¤.
        (ì‚¬) ë³´ì•ˆ ê³ ë ¤ì‚¬í•­(Secure OS ì ìš©ê°€ëŠ¥ì„± ë“±)ì„ ì ê²€í•œë‹¤. 
        

## âœ” ë¬¸ì œ 2
![ë„¤íŠ¸ì›Œí¬ í”„ë¡œê·¸ë˜ë° êµ¬í˜„ ë¬¸ì œ](https://user-images.githubusercontent.com/65608960/110792949-63355e00-82b7-11eb-8758-584bfa8f97ee.JPG)

- ë‚´ê°€ ì œì¶œí•œ ë‹µì•ˆ

    ```java
    package Test;

    import java.io.DataOutputStream;
    import java.io.OutputStream;
    import java.io.UnsupportedEncodingException;
    import java.io.IOException;
    import java.net.InetSocketAddress;
    import java.net.ServerSocket;
    import java.net.Socket;

    import java.lang.reflect.Method;

    public class SocketServer {
        
        public static void main(String args[]) throws IOException {
        
        
        
            // ë¬¸ì œ-1) TCP ì„œë²„ ì†Œì¼“ ê°ì²´(ì¸ìŠ¤í„´ìŠ¤) serverSocket ë¥¼ ì´ˆê¸°í™” í•©ë‹ˆë‹¤.
            
            ServerSocket serverSocket = null;
        
        
        // ë¬¸ì œ-2) try ~ catch í˜•íƒœë¡œ IOException ì˜ˆì™¸ì²˜ë¦¬ í´ë˜ìŠ¤ë¡œ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•˜ê³  
        // ì—ëŸ¬ ë¡œê·¸ ë©”ì‹œì§€ëŠ” getMessageë©”ì„œë“œë¥¼ í™œìš©í•˜ì—¬ ê°„ë‹¨íˆ ì¶œë ¥ë  ìˆ˜ ìˆë„ë¡ ì¡°ì¹˜í•©ë‹ˆë‹¤.
        // ì„œë²„ ì†Œì¼“ì„ 8888ë²ˆ í¬íŠ¸ë¡œ ê²°í•©(bind)í•˜ì—¬ ìƒì„±ì‹œí‚µë‹ˆë‹¤.
        
            try {
                serverSocket = new ServerSocket();
                serverSocket.bind(new InetSocketAddress("localhost",8888));
            } catch(IOException e) {
                System.out.println(e.getMessage());
            }
        
        
        // ë¬¸ì œ-3) ì—¬ê¸°ì„œ í•  ìˆ˜ ìˆìœ¼ë©´ ë¦¬í”Œë ‰ì…˜(reflection)ì„ í™œìš©í•˜ì—¬ ì˜ˆì™¸ì²˜ë¦¬ ë©”ì‹œì§•ì„ í•  ë•Œ 
        // ì˜ˆì™¸ì²˜ë¦¬ê°€ ë°œìƒí•œ ë©”ì„œë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ ë©”ì‹œì§€ì˜ ë¼ë²¨ ì¶œë ¥í•˜ëŠ” í˜•íƒœë¡œ ì¡°ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        
            try {
                    Class<?> clazz = Class.forName("java.util.Vector");

                    Method[] methods = clazz.getMethods();

                    for (Method method : methods) {
                        System.out.println(method.toString());
                    }
            } catch (ClassNotFoundException e){
                e.printStackTrace();
            }	 
            
        
        // ë¬¸ì œ-4) ë¬´í•œ ë°˜ë³µë¬¸ì„ í™œìš©í•˜ì—¬ ì§€ì†ì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ëŒ€ê¸°í•˜ëŠ” 	
        // ì„œë²„ í”„ë¡œê·¸ë¨ì˜ ì—­í• ì„ í•  ìˆ˜ ìˆë„ë¡ ì¡°ì¹˜í•©ë‹ˆë‹¤.
            
        
        try {
            while(true) {
                Socket socket = serverSocket.accept();
                System.out.println("ì„œë²„ì˜ ì—°ê²° ìš”ì²­ ëŒ€ê¸°");
            }
        }catch (Exception e) {
            
        }
        
        
        // ë¬¸ì œ-5) ì„œë²„ ì†Œì¼“ì´ í´ë¼ì´ì–¸íŠ¸ì˜ ì—°ê²° ìš”ì²­ì´ ë“¤ì–´ì˜¬ ë•Œê¹Œì§€ ê³„ì† ê¸°ë‹¤ë¦´ ìˆ˜ ìˆë„ë¡ ì¡°ì¹˜í•©ë‹ˆë‹¤.	
        // ë§Œì•½ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ í´ë¼ì´ì–¸íŠ¸ ì†Œì¼“ê³¼ í†µì‹ í•  ìƒˆë¡œìš´ ì†Œì¼“ì„ ìƒì„±í•©ë‹ˆë‹¤.
        try {
            while(true) {
                Socket socket = serverSocket.accept();
                System.out.println(socket.getInetAddress() + " IPë¡œë¶€í„° ì—°ê²°ìš”ì²­ì´ ë“¤ì–´ì™”ìŠµë‹ˆë‹¤.");
                InetSocketAddress isa=(InetSocketAddress)socket.getRemoteSocketAddress();
            }
        }catch (Exception e) {
            
        }
        
        
        // ë¬¸ì œ-6) ì†Œì¼“ì˜ ì¶œë ¥ìŠ¤íŠ¸ë¦¼ì„ OutputStream í´ë˜ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ out ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
        
        Socket socket = null;
        
        OutputStream out = socket.getOutputStream();
        
        // ë¬¸ì œ-7) ìœ„ì—ì„œ ìƒì„±ëœ out ê°ì²´ë¥¼ í™œìš©í•˜ì—¬ DataOutputStream í´ë˜ìŠ¤ì˜ dos ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
        
        DataOutputStream dos = new DataOutputStream(out);


        
        // ë¬¸ì œ-8) ì›ê²© ì†Œì¼“(remote socket)ì— ë°ì´í„°ë¥¼ UTF-8 í˜•ì‹ìœ¼ë¡œ ë³´ëƒ…ë‹ˆë‹¤.	
        // ë©”ì‹œì§€ : "ì„œë²„ì—ì„œ ë³´ë‚´ëŠ” ë©”ì‹œì§€ì…ë‹ˆë‹¤."
        
        String msg = "ì„œë²„ì—ì„œ ë³´ë‚´ëŠ” ë©”ì‹œì§€ì…ë‹ˆë‹¤.";
        
        try {
            byte[] str = msg.getBytes("UTF-8");
        } catch (UnsupportedEncodingException e) {
            e.printStackTrace();
        }

        // ë¬¸ì œ-9) ìœ„ì—ì„œ ìƒì„±í•œ ìŠ¤íŠ¸ë¦¼(dos)ê³¼ ì†Œì¼“(socket) ìì›ì„ ë°˜ë‚©êµ¬ë¬¸ì„ finally 
        // êµ¬ë¬¸ì„ ì¶”ê°€í•˜ì—¬ finally ë¸”ëŸ­ìœ¼ë¡œ ì˜®ê¸°ë„ë¡(ì´ê´€) ì¡°ì¹˜í•©ë‹ˆë‹¤.
        
        finally {
            try {
                dos.close();
            } catch (IOException e) {
                e.printStackTrace();
            }
            
            try {
                socket.close();
            } catch (IOException e) {
                e.printStackTrace();
            }
            
        }
        
        } // main
        
    }
    ```
- ë‹µì•ˆ
    ```java
     package Test;

    import java.io.DataOutputStream;
    import java.io.OutputStream;
    import java.io.IOException;
    import java.net.ServerSocket;
    import java.net.Socket;

    public class SocketServerAnswer {

        public static void main(String args[]) {

            // ë¬¸ì œ-1) TCP ì„œë²„ ì†Œì¼“ ê°ì²´(ì¸ìŠ¤í„´ìŠ¤) serverSocket ë¥¼ ì´ˆê¸°í™” í•©ë‹ˆë‹¤.

            ServerSocket serverSocket = null;

            DataOutputStream dos = null; //

            Socket socket = null;

            try {

    // ë¬¸ì œ-2) try ~ catch í˜•íƒœë¡œ IOException ì˜ˆì™¸ì²˜ë¦¬ í´ë˜ìŠ¤ë¡œ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•˜ê³  

    // ì—ëŸ¬ ë¡œê·¸ ë©”ì‹œì§€ëŠ” getMessageë©”ì„œë“œë¥¼ í™œìš©í•˜ì—¬ ê°„ë‹¨íˆ ì¶œë ¥ë  ìˆ˜ ìˆë„ë¡ ì¡°ì¹˜í•©ë‹ˆë‹¤.

    // ì„œë²„ ì†Œì¼“ì„ 8888ë²ˆ í¬íŠ¸ë¡œ ê²°í•©(bind)í•˜ì—¬ ìƒì„±ì‹œí‚µë‹ˆë‹¤.

                serverSocket = new ServerSocket(8888);

    // ë¬¸ì œ-3) ì—¬ê¸°ì„œ í•  ìˆ˜ ìˆìœ¼ë©´ ë¦¬í”Œë ‰ì…˜(reflection)ì„ í™œìš©í•˜ì—¬ ì˜ˆì™¸ì²˜ë¦¬ ë©”ì‹œì§•ì„ í•  ë•Œ 

    // ì˜ˆì™¸ì²˜ë¦¬ê°€ ë°œìƒí•œ ë©”ì„œë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ ë©”ì‹œì§€ì˜ ë¼ë²¨ ì¶œë ¥í•˜ëŠ” í˜•íƒœë¡œ ì¡°ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

            } catch (IOException e) {

                System.err.println(new Exception().getStackTrace()[0].getMethodName() + " : "

                        + e.getMessage());

            }

    // ë¬¸ì œ-4) ë¬´í•œ ë°˜ë³µë¬¸ì„ í™œìš©í•˜ì—¬ ì§€ì†ì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ëŒ€ê¸°í•˜ëŠ” 

    // ì„œë²„ í”„ë¡œê·¸ë¨ì˜ ì—­í• ì„ í•  ìˆ˜ ìˆë„ë¡ ì¡°ì¹˜í•©ë‹ˆë‹¤.

            while (true) {

                try {

                    System.out.println("ì„œë²„ì˜ ì—°ê²° ìš”ì²­ ëŒ€ê¸°");

    // ë¬¸ì œ-5) ì„œë²„ ì†Œì¼“ì´ í´ë¼ì´ì–¸íŠ¸ì˜ ì—°ê²° ìš”ì²­ì´ ë“¤ì–´ì˜¬ ë•Œê¹Œì§€ ê³„ì† ê¸°ë‹¤ë¦´ ìˆ˜ ìˆë„ë¡ ì¡°ì¹˜í•©ë‹ˆë‹¤.

                    // ë§Œì•½ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ í´ë¼ì´ì–¸íŠ¸ ì†Œì¼“ê³¼ í†µì‹ í•  ìƒˆë¡œìš´ ì†Œì¼“ì„ ìƒì„±í•©ë‹ˆë‹¤.

                    Socket socket = serverSocket.accept();

                    System.out.println(socket.getInetAddress() + " IPë¡œë¶€í„° ì—°ê²°ìš”ì²­ì´ ë“¤ì–´ì™”ìŠµë‹ˆë‹¤.");

    // ë¬¸ì œ-6) ì†Œì¼“ì˜ ì¶œë ¥ìŠ¤íŠ¸ë¦¼ì„ OutputStream í´ë˜ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ out ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

                    OutputStream out = socket.getOutputStream();

    // ë¬¸ì œ-7) ìœ„ì—ì„œ ìƒì„±ëœ out ê°ì²´ë¥¼ í™œìš©í•˜ì—¬ DataOutputStream í´ë˜ìŠ¤ì˜ dos ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

                    DataOutputStream dos = new DataOutputStream(out);

    // ë¬¸ì œ-8) ì›ê²© ì†Œì¼“(remote socket)ì— ë°ì´í„°ë¥¼ UTF-8 í˜•ì‹ìœ¼ë¡œ ë³´ëƒ…ë‹ˆë‹¤.

    // ë©”ì‹œì§€ : "ì„œë²„ì—ì„œ ë³´ë‚´ëŠ” ë©”ì‹œì§€ì…ë‹ˆë‹¤."

                    dos.writeUTF("ì„œë²„ì—ì„œ ë³´ë‚´ëŠ” ë©”ì‹œì§€ì…ë‹ˆë‹¤.");

    // ë¬¸ì œ-9) ìœ„ì—ì„œ ìƒì„±í•œ ìŠ¤íŠ¸ë¦¼(dos)ê³¼ ì†Œì¼“(socket) ìì›ì„ ë°˜ë‚©êµ¬ë¬¸ì„ finally 

    // êµ¬ë¬¸ì„ ì¶”ê°€í•˜ì—¬ finally ë¸”ëŸ­ìœ¼ë¡œ ì˜®ê¸°ë„ë¡(ì´ê´€) ì¡°ì¹˜í•©ë‹ˆë‹¤.

                    dos.close();

                    socket.close();

                } catch (IOException e) {

                    System.err.println(new Exception().getStackTrace()[0].getMethodName() + " : "

                            + e.getMessage());

                    e.printStackTrace();

                } finally {

                    try {

                        dos.close();

                        socket.close();

                        serverSocket.close();

                    } catch (IOException e) {

    // TODO Auto-generated catch block

                        e.printStackTrace();

                    }

                }

            } // while

        } // main

    }    
    ```

ğŸ’¡ ê°•ì‚¬ë‹˜ í”¼ë“œë°±

    - whileë¬¸ì´ ë‘ë²ˆ ë“¤ì–´ê°”ìŠµë‹ˆë‹¤. ì†Œì¼“ë„ ë‘ë²ˆ ë“¤ì–´ê°”ìŠµë‹ˆë‹¤. ì¡°ê¸ˆë” ì½”ë“œì— ëŒ€í•œ ì ê²€ê³¼ ìµœì í™”ê°€ í•„ìš”í•§ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

â— ëŠë‚€ì 

    - Socket í†µì‹  ì‚¬ìš©ë²•ì˜ ê°œë…ì„ ì´í•´í•  í•„ìš”ê°€ ìˆì–´ë³´ì¸ë‹¤!
    
