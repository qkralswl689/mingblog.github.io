---
layout: post
title: "DB -SQL - sqlì „ë¬¸ê°€ ì •ë¯¸ë‚˜ - ì˜¤ë¼í´ ì´ˆê¸‰ê°•ì˜ : CREATE,GRANT,INSERT,SELECT,ORDER BY,JOIN ì¿¼ë¦¬(INNER JOIN)"
date: 2021-02-27
category : [DB]
comments: true
---

## ğŸ”·CREATE,GRANT,INSERT,SELECT,ORDER BY,JOIN ì¿¼ë¦¬(INNER JOIN) ì‹¤ìŠµ

### âœ” ê³„ì • ìƒì„±, ê¶Œí•œ ë¶€ì—¬, í…Œì´ë¸” ìƒì„±

- ì½”ë“œ
    ```sql
    -- CREATE : ê³„ì •ìƒì„± 
    -- IDENTIFIED BY => ë¹„ë°€ë²ˆí˜¸ ë¶€ì—¬
    CREATE USER MINGKI IDENTIFIED BY 1234;

    -- GRANT : ê¶Œí•œë¶€ì—¬
    -- CREATE SESSION TO : ê³„ì •ì— ì„¸ì„ (ê´€ë¦¬) ê¶Œí•œ ë¶€ì—¬
    GRANT CREATE SESSION TO MINGKI;
    -- CREATE TABLE, RESOURCE TO  : ê³„ì •ì— í…Œì´ë¸”ìƒì„±, ì €ì¥ê³µê°„ ë¶€ì—¬
    GRANT CREATE TABLE, RESOURCE TO MINGKI;

    -- CREATE TABLE : í…Œì´ë¸” ë§Œë“¤ê¸°
    -- í…Œì´ë¸” ì´ë¦„ í›„ () ì•ˆì— ì–´ë–¤ ì»¬ëŸ¼ìœ¼ë¡œ êµ¬ì„±í• ì§€ ì •í•œë‹¤
    CREATE TABLE SUPERBAND_MEMBER(
    -- NUMBER : ìˆ«ì(3ë°”ì´íŠ¸)
    SEQ NUMBER(3),
    -- VARCHAR2 : ë¬¸ì(30ë°”ì´íŠ¸)
    NAME VARCHAR2(30),
    POSITION VARCHAR2(100),
    FINAL_YN VARCHAR2(1));

    -- SELECT VSIZE('ê°€ë‚˜ë‹¤') FROM DUAL : ê¸€ì ê°€ ëª‡ë°”ì´íŠ¸ ì¸ì§€ í™•ì¸í•˜ëŠ” ëª…ë ¹ë¬¸
    -- DUAL : ì˜¤ë¼í´ ìì²´ì— ì œê³µë˜ëŠ” í…Œì´ë¸” => í•¨ìˆ˜ë¥¼ ì´ìš”í•´ ê³„ì‚° ê²°ê³¼ê°’ì„ í™•ì¸ í•  ë–„ ì‚¬ìš© í•˜ëŠ” í…Œì´ë¸”ì´ë‹¤
    -- í•œê¸€ : í•œê¸€ìì— 3ë°”ì´íŠ¸
    SELECT VSIZE('ê°€ë‚˜ë‹¤') FROM DUAL;

    -- í…Œì´ë¸” ì¡°íšŒ
    SELECT * FROM SUPERBAND_MEMBER;

    -- INSERT INTO í…Œì´ë¸”ì´ë¦„ VALUES (): ì „ì²´ ì»¬ëŸ¼ì— ë°ì´í„° ì‚½ì…
    -- ()ì•ˆì—ìˆœì„œëŒ€ë¡œ ë„£ì–´ì£¼ë©´ëœë‹¤
    INSERT INTO SUPERBAND_MEMBER VALUES(
    1,'ì•„ì¼','vocal,piano','y');

    -- INSERT INTO í…Œì´ë¸”ì´ë¦„ (ì¹¼ëŸ¼ì´ë¦„)VALUE() : (ì¹¼ëŸ¼ì´ë¦„) ì„ íƒëœ ì¹¼ëŸ¼ì—ë§Œ ë°ì´í„°ë¥¼ ë„£ëŠ” ëª…ë ¹ë¬¸
    INSERT INTO IDOL_GROUP (COMPANY,GROUP_NAME)VALUES(
    'í…ŒìŠ¤íŠ¸ ì†Œì†ì‚¬','ì˜ˆë¹„ ì•„ì´ëŒ ê·¸ë£¹');
    ```
ğŸ’¡ TIP :  ctrl + í…Œì´ë¸”ëª… í´ë¦­ => í•´ë‹¹ í…Œì´ë¸”ì˜ ì—´ ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤


### âœ” SELECT í™œìš©
* ì°¸ê³ 
![GROUPBY](https://user-images.githubusercontent.com/65608960/109389014-d51fb600-794d-11eb-814e-24a26dfddbf4.JPG)

- ì½”ë“œ
    ```SQL
    -- íŠ¹ì •í•œ ì»¬ëŸ¼ ì¡°íšŒì‹œ SELECT ë’¤ì— ì¡°íšŒí•  ì»¬ëŸ¼ëª… ì…ë ¥
    SELECT TITLE,SINGER FROM billboard_charts;

    -- WHERE : ì¡°íšŒí•  ì»¬ëŸ¼ ,ì¡°ê±´ ì…ë ¥
    -- COUNTRYê°€ England ì¸ ê°€ìˆ˜ë§Œ ì¡°íšŒ
    SELECT * FROM billboard_charts 
    WHERE country='England';

    -- ìˆœìœ„ê°€ 10ìœ„ ì•ˆì— ìˆëŠ” ë°ì´í„°ë§Œ ì¶œë ¥í•˜ëŠ” ëª…ë ¹ë¬¸
    SELECT * FROM billboard_charts 
    WHERE ranking < 11;

    -- ë…¸ë˜ì œëª©ê°€ìš´ë°ì— Mì´ í¬í•¨ëœ ë…¸ë˜ ì¡°íšŒ ëª…ë ¹ë¬¸
    SELECT * FROM billboard_charts 
    WHERE TITLE LIKE'%M%';

    -- GROUP BY :  ê·¸ë£¹ë³„ë¡œ ì§‘ê³„ëœ ì •ë³´ ì¡°íšŒ
    -- êµ­ê°€ë³„ë¡œ ì¡°íšŒ
    SELECT country FROM billboard_charts 
    GROUP BY country;

    --  COUNT(*) : í•´ë‹¹ì¡°ê±´ì˜ ê°¯ìˆ˜ë¥¼ ì¹´ìš´íŠ¸ í•´ì¤€ë‹¤
    SELECT country, COUNT(*) FROM billboard_charts 
    GROUP BY country;

    -- HAVING : GROUP BY í›„ ê·¸ë£¹ë³„ ì¡°ê±´ê²€ì‚¬ê°€ í•„ìš”í•œ ê²½ìš° ì‚¬ìš©
    -- COUNTê°€ í•œê³¡ì´ìƒì¸ ë‚˜ë¼ ì¡°íšŒ
    SELECT country,COUNT(*) FROM billboard_charts 
    GROUP BY country HAVING COUNT(*) >1 ;

    -- DESC : ë­í‚¹ ë‚´ë¦¼ì°¨ìˆœ ì¡°íšŒ
    SELECT * FROM billboard_charts 
    ORDER BY ranking DESC;
    ```

### âœ” ORDER BY ì‹¤ìŠµ

- ORDER BY : ë°ì´í„°ê°€ ë§ì€ ë°ì´í„°ì—ì„œ ORDER BY ë¥¼ ë‚¨ë°œí•˜ê²Œ ë˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒë  ìˆ˜ ìˆë‹¤
=> ORDER BY ì— ìì£¼ ë“±ì¥í•˜ëŠ” ì»¬ëŸ¼ì„ ì¸ë±ìŠ¤ë¡œ ì„¤ì •ì„ í•´ë‘ë©´ ì„±ëŠ¥ì— ìœ ë¦¬í•˜ë‹¤

- ì½”ë“œ
    ```SQL
    -- ULLS LAST : NULLê°’ì„ ë§ˆì§€ë§‰ìœ¼ë¡œ ë³´ë‚´ê³  ì‹¶ì„ ë•Œ
    -- ë‚´ë¦¼ì°¨ìˆœì—ì„œëŠ” NULLê°’ì´ ì›ë˜ ê°€ì¥ ë¨¼ì € ì¶œë ¥ëœë‹¤
    SELECT *FROM idol_member
    ORDER BY real_name DESC NULLS LAST;

    -- NULLê°’ì„ ë§¨ ìœ„ë¡œ ì˜¬ë¦¬ê³  ì‹¶ì„ë•Œ
    -- ì˜¤ë¦„ì°¨ìˆœì—ì„œëŠ” NULLê°’ì´ ê°€ì¥ ë‚˜ì¤‘ì— ì¶œë ¥ëœë‹¤
    SELECT *FROM idol_member
    ORDER BY real_name NULLS FIRST;

    -- ë‘ê°œì˜ ì»¬ëŸ¼ìœ¼ë¡œ ì •ë ¬í•˜ê³  ì‹¶ì„ ë•Œì—ëŠ” ORDER BY ë’¤ì— ì»¬ëŸ¼ëª…ì„ ì‘ì„±í•˜ë©´ ëœë‹¤
    SELECT *FROM idol_member
    ORDER BY real_name ,birthday;
    ```

### âœ” JOIN ì¿¼ë¦¬ (INNER JOIN)ì—°ìŠµ

- ì½”ë“œ

    ```SQL
    -- AILAS : A => IDOL_GROUPì„ Aë¡œ ì§€ì¹­
    -- INNER JOIN :  Aì™€ Bí…Œì´ë¸”ì— í•¨ê»˜ ìˆëŠ”ê²ƒë“¤ë§Œ ë‚˜ì—´
    -- Aì˜ COMPANY,Aì˜ GROUP_NAME ê³¼ Bì˜ MEMBER_NAME, Bì˜ REAL_NAMEì—ì„œ
    SELECT a.company,a.group_name,b.member_name,b.real_name FROM idol_group A,idol_member B 
    -- Aì™€ Bì˜ ê³µí†µ ë‚´ì—­ (ì—°ê²°ê³ ë¦¬) ì„ ì¶œë ¥í•˜ëŠ” ëª…ë ¹
    WHERE a.group_name = b.group_name;

    -- ê°ê°ì˜ ê·¸ë£¹ì— ëª‡ëª…ì˜ ë©¤ë²„ê°€ ìˆëŠ”ì§€ ë³´ê³ ì‹¶ì„ ë•Œ ëª…ë ¹ë¬¸
    -- COUNTì‚¬ìš©ì‹œì—ëŠ” GROUP BY ì‚¬ìš©í•´ì•¼í•œë‹¤
    -- Aì˜ COMPANY,Aì˜ GROUP_NAME ì—ì„œ Bì˜ MEMBER_NAME ì„ ì¹´ìš´íŠ¸ í•œë‹¤
    SELECT a.company,a.group_name, COUNT(b.member_name) COUNT
    FROM idol_group A, idol_member B 
    WHERE a.group_name = b.group_name
    GROUP BY a.company,a.group_name;
    ```
