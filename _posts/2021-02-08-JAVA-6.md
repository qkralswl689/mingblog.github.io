---
layout: post
title: "JAVA-ë°°ì—´,ì°¸ì¡°íƒ€ì…"
date: 2021-02-08
category : [JAVA]
comments: true
---
### * ì°¸ì¡° íƒ€ì…ê³¼ ì°¸ì¡° ë³€ìˆ˜
    
ğŸ’¡ ì°¸ì¡° íƒ€ì… : ê°ì²´ì˜ ë²ˆì§€ë¥¼ ì°¸ì¡°í•˜ëŠ” íƒ€ì…: ë°°ì—´,ì—´ê±°,í´ë˜ìŠ¤,ì¸í„°í˜ì´ìŠ¤
ğŸ’¡ ê¸°ë³¸ íƒ€ì… : ì •ìˆ˜,ì‹¤ìˆ˜,ë¬¸ì,ë…¼ë¦¬ ë¦¬í„°ëŸ´ ì €ì¥  
![ë°ì´í„°íƒ€ì…](https://user-images.githubusercontent.com/65608960/107208113-7c42b900-6a44-11eb-8dd8-6835518b866a.JPG)    
         
    1) ìŠ¤íƒ (Runtime Stack)
        - ë°”ì´íŠ¸ ì½”ë“œ(ì»´íŒŒì¼ëœ ëª©ì  ì½”ë“œ)ë¥¼ ë¶ˆëŸ¬ë“¤ì—¬ì„œ(load) ì§€ì—­ ë³€ìˆ˜(local variable)ì„ í• ë‹¹.
        - ë¸”ë¡ ì˜ì—­ì„ ë²—ì–´ë‚˜ë©´ ì†Œë©¸. ë°˜ë“œì‹œ ì´ˆê¸°í™” ì‘ì—… ì„ í–‰ë˜ì–´ì•¼ í•¨. ìë™ìœ¼ë¡œ ì´ˆê¸°í™” ë˜ì§€ ì•ŠìŒ.
    2) í™ (Heap : The garbage-collected Heap, dummy memory)
        - ë°°ì—´ì´ë‚˜ í´ë˜ìŠ¤ ê°ì²´(ì¸ìŠ¤í„´ìŠ¤)ê°€ í• ë‹¹ë¨. GC(Garbage Collector)ê°€ ê´€ë¦¬í•¨.
        - ì´ ì˜ì—­ì€ íŠ¹ë³„í•œ ì´ˆê¸°í™” ì—†ì´ë„ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤. ì°¸ê³ ë¡œ ì¸ìŠ¤í„´ìŠ¤(instance)ë“¤ì˜ ì´ˆê¸°ê°’ì€ nullì´ë‹¤.

    3) ìƒìˆ˜ ì˜ì—­ (literal pool)ì™€ ë©”ì†Œë“œ ì˜ì—­(method area)
        - ì‹¤ì§ˆì ìœ¼ë¡œ ë°”ì´íŠ¸ ì½”ë“œ(ëª©ì  ì½”ë“œ)ê°€ ìœ„ì¹˜í•œ ì˜ì—­.
        - ê³ ì •(static) ê°’ì„ ê°€ì§€ëŠ” ìƒìˆ˜(constant), ì¶”ìƒ ë©”ì†Œë“œ(abstract method)ê°€ ìœ„ì¹˜í•˜ëŠ” ì˜ì—­. ì‹¤í–‰(runtime)ì‹œ í˜¸ì¶œ(call)ì„ ìœ„í•´ì„œ ì£¼ì†Œ ìœ„ì¹˜ë¥¼ ê°–ê²Œ ë¨.
        - íŠ¹íˆ, ì™¸ë¶€ì—ì„œëŠ” í˜¸ì¶œë˜ëŠ” ë©”ëª¨ë¦¬ì˜ ì£¼ì†Œ(ìœ„ì¹˜)ë¥¼ íŒŒì•…í•  ìˆ˜ ì—†ì–´ì„œ í•´í‚¹ì´ ì–´ë ¤ì›€(ë³´ì•ˆ). 
        - ì°¸ê³ ë¡œ native method areaëŠ” ë‹¤ë¥¸ ì–¸ì–´(C, C++ ë“±) ì–¸ì–´ì˜ ë©”ì†Œë“œ ì‚¬ìš©ì‹œ ê·¸ ë©”ì†Œë“œë“¤ì´ ë¶ˆëŸ¬ë“¤ì—¬ì§€ëŠ” ì˜ì—­ì„.
    4) ë ˆì§€ìŠ¤í„° ì˜ì—­ (process register area)
        - JVM ì‹¤í–‰ì‹œ í˜¸ì¶œí•  ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ê¸°ì–µí•´ë‘ëŠ” ê³³.
        - ì‹¤í–‰ í”„ë¡œì„¸ì„œë“¤ì´ ì‘ë™ë  ë•Œ ì´ê³³ì— ë“±ë¡(registration)ëœ ë‚´ìš©ì„ ê¸°ì´ˆë¡œ ì‹¤í–‰ë¨.
    5) Registers
        - ì¼ì¢…ì˜ ì„ì‹œ ê¸°ì–µì¥ì†Œ(ë©”ëª¨ë¦¬)ë¡œì¨ 32ë¹„íŠ¸ ì£¼ì†Œ ì§€ì • ë°©ì‹(addressing)ìœ¼ë¡œ JVMì´ ê´€ë¦¬í•˜ë©° êµ¬ì²´ì ìœ¼ë¡œëŠ” ì£¼ë¡œ ìŠ¤íƒ(stack)ì„ ê´€ë¦¬í•˜ëŠ” ì—­í• ì„ í•¨.

        - 5-1) optop register (operand-top register)
            - ì—°ì‚°ì(oprand)ì˜ ë§ˆì§€ë§‰ ì£¼ì†Œë¥¼ ê°€ì§€ê³ (í˜¹ì€ ê°€ë¦¬í‚¤ê³ ) ìˆë‹¤(ë³´ê´€). 
            - The top of the operand stack is pointed to by the optop register.
        - 5-2) PC register (program counter register)
            - ë©”ì†Œë“œ ì˜ì—­ì˜ ëª‡ ë°”ì´íŠ¸ë¥¼ ê°€ë¦¬í‚¤ê³  ìˆìœ¼ë©° ë°”ì´íŠ¸ ì½”ë“œê°€ ì‹¤í–‰ë˜ë©´ì„œ í•œ ëª…ë ¹ì´ ì‹¤í–‰ëœ í›„ ë‹¤ìŒ ëª…ë ¹ì´ ì‹¤í–‰ë  ë©”ëª¨ë¦¬ ì£¼ì†Œê°’ì„ ê°€ì§€ê³ (fetch) ìˆìŒ. ì“°ë ˆë“œ(thread)ì˜ ì‹¤í–‰ ì§„í–‰ ìƒí™©ì„ ì£¼ì‹œ(ê°ì‹œ)í•˜ëŠ” ì—­í• ë„ í•¨.
        - 5-3) vars register
            - ì‹¤í–‰ì¤‘ì¸ ë©”ì†Œë“œì˜ ìš”ì†Œë“¤(ì§€ì—­ ë³€ìˆ˜, ë°˜í™˜ ê°’(return value) ë“±)ì˜ ì£¼ì†Œê°’ì„ ê°€ì§€ê³ (ê°€ë¦¬í‚¤ê³ ) ìˆìŒ.
        - 5-4) frame register (stack frame register : Execution Environment Area(Sector))
            - ìŠ¤íƒ(operand stack) ìì²´ì˜ ì—°ì‚°ì„ ìˆ˜í–‰ ë° ê´€ë¦¬í•˜ëŠ” ì—­í• ì„ í•¨.
            - ë¬¼ë¡  ì–¸ê¸‰í•œ ë°”ì™€ ê°™ì´ JVMì€ ë°”ì´íŠ¸ ëª¨ë“œì— ëŒ€í•œ ëª¨ë“  ì—°ì‚°ì„ ì´ ìŠ¤íƒ(stack)ì—ì„œ ì‹¤í–‰í•˜ê²Œ ë¨.
            - ì—°ì‚°ì‹œ ì¸ìë“¤(parameter, ë§¤ê°œë³€ìˆ˜) ë° ëª…ë ¹ ë° ê²°ê³¼ë“¤ì„ ì—°ì‚°í•˜ê¸° ìœ„í•´  ì„ì‹œì ìœ¼ë¡œ ë³´ê´€í•¨.
            - ì‹¤í–‰ í™˜ê²½(Execution Environment) ë³€ìˆ˜ë“¤ì— ëŒ€í•œ ì£¼ì†Œë¥¼ ê°€ì§€ê³ (ê°€ë¦¬í‚¤ê³ ) ìˆìŒ.



## * ë°°ì—´

- ë‚±ê°œì˜ ë³€ìˆ˜ -> ë°°ì—´ : ê°™ì€ ìë£Œí˜•ì´ ì—¬ëŸ¬ê°œ ìˆëŠ”ê²ƒ

1.ë°°ì—´ë³€ìˆ˜ ì„ ì–¸ë°©ë²• : ë°”ë¡œ ì„ ì–¸ X , ê°’ì„ í• ë‹¹í•´ ì¤˜ì•¼ í•œë‹¤
- new : ë™ì  ë³€ìˆ˜ í• ë‹¹(allocation) ì—°ì‚°ì => heap(ììœ  ë©”ëª¨ë¦¬ ê³µê°„)ì— í• ë‹¹
* Ex)
    ```java
        // ë°°ì—´ë³€ìˆ˜ ì„ ì–¸ ë°©ë²•
        // new : ë™ì  ë³€ìˆ˜ í• ë‹¹(allocation) ì—°ì‚°ì => heap(ììœ  ë©”ëª¨ë¦¬ ê³µê°„)ì— í• ë‹¹
        int arr[]; = new int[10]; // 1)
        int [] arr = new int[10]; // 2)
        int arr[];  // 3)
        arr = new int [10];
        arr = new int [5]; // ì¬í• ë‹¹

        System.out.println("arr ë°°ì—´ ë³€ìˆ˜ì˜ í¬ê¸° : " + arr.length); // 5 ì¶œë ¥(ì¬í• ë‹¹ ëê¸° ë•Œë¬¸ì—)'

        arr[0] = 10; // arrë°°ì—´ì˜ ì¸ë±ìŠ¤ 0ìë¦¬ì— 10 ì…ë ¥
        arr[4] = 20; // arrë°°ì—´ì˜ ì¸ë±ìŠ¤ 4ìë¦¬ì— 20 ì…ë ¥

        // ë°°ì—´ ì „ì²´ ìš”ì†Œë“¤ì„ ë‚˜ì—´
        for(int i=0; i<arr.length; i++) {
            System.out.print(arr[i] + " "); // 10 0 0 0 20 ì¶œë ¥
        }

        // í–¥ìƒëœ forë¬¸(enhanced for loop, foreach)
        // ì¸ë±ìŠ¤ ì‚¬ìš©(X), ë‹¤ìŒ(next) ìš”ì†Œ ê²€ìƒ‰ ë°©ì‹(iterator(ë°˜ë³µì)íŒ¨í„´ ë°©ì‹)
        for(int n : arr) {
            System.out.print(n + " "); // 10 0 0 0 20 ì¶œë ¥
        }

        // ë°°ì—´ì˜ ìˆ˜ë™ ì´ˆê¸°í™”
        int arr[] = {1,2,3,4,5}; // (O)
        // int arr[5] = {1,2,3,4,5}; // (X)
        int arr[] = new int[] {1,2,3,4,5}; // (O)
        // int arr[] = new int[5] {1,2,3,4,5}; // (X)

        arr[0] = 10;
        for(int n : arr) {
            System.out.print(n + " "); // 10 2 3 4 5 ì¶œë ¥
        }
    ```

## * ë‹¤ì°¨ì› ë°°ì—´

- Ex)

    ```java
    // ë‹¤ì°¨ì› ë°°ì—´(array)

        // ì„ ì–¸ ë°©ë²•
        int arr[][]; // 1)
        int []arr[]; // 2)
        int [][]arr; // 3)

        arr = new int [3][2];

        arr[0][0] = 1;
        arr[0][1] = 2;
        arr[1][0] = 3;
        arr[1][1] = 4;
        arr[2][0] = 5;
        arr[2][1] = 6;

        System.out.println("2ì°¨ì› ë°°ì—´ì˜ í¬ê¸°(í–‰ì˜í¬ê¸°) : " + arr.length); // 3 ì¶œë ¥
        System.out.println("2ì°¨ì› ë°°ì—´ì˜ ìš”ì†Œì˜ ê°¯ìˆ˜ : " + arr.length * arr[0].length); //  6 ì¶œë ¥

        // ì „ì²´ ìš”ì†Œ ë‚˜ì—´ (ì¤‘ì²© forë¬¸)
        for(int i=0; i<arr.length; i++) {
            for( int j =0; j<arr[i].length; j++) {
                System.out.print(arr[i][j] + " "); // 1 2 
            }                                      // 3 4 
            System.out.println();                  // 5 6 => ì¶œë ¥ëœ í˜•íƒœ  
        }

        // foreach		
        for(int[] arr2 : arr) {
            for(int n : arr2) {
                System.out.print(n + " "); // 1 2 
            }                              // 3 4  
            System.out.println();          // 5 6 => ì¶œë ¥ëœ í˜•íƒœ  
        }

        // 2ì°¨ì› ë°°ì—´ì˜ ì´ˆê¸°í™”		
        int [][]arr = { {1,2},{3,4},{5,6}}; // (O)
        int [][]arr = new int{ {1,2},{3,4},{5,6}}; // (O)
        // int [][]arr; // (X)
        // arr = { {1,2},{3,4},{5,6}}; // (X)
        // int [][]arr = new int[3][2]{ {1,2},{3,4},{5,6}}; // (X)


        // 2ì°¨ì› ë°°ì—´ì˜ ê°€ë³€ í• ë‹¹
        int [][]arr = new int[3][]; // (O)
        // int [][]arr = new int[][]; // (X)
        // int [][]arr = new int[][3]; // (X)

        arr[0] = new int[5];
        // arr[1] = {1,2,3}; // (X)
        arr[1] = new int[3];
        arr[2] = new int[7];

        for(int[] arr2 : arr) {
            for(int n : arr2) {
                System.out.print(n + " "); // 0 0 0 0 0 
            }                              // 0 0 0 
            System.out.println();          // 0 0 0 0 0 0 0  => ì¶œë ¥ëœ í˜•íƒœ
 
        }


    ```

## * ì—´ê±° íƒ€ì…

** ì—´ê±°íƒ€ì… : í´ë˜ìŠ¤ ì²˜ëŸ¼ ìƒê¸´ ìƒìˆ˜ => ì—´ê±°í˜• ìƒìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ì›ë˜ ìˆë˜ ì†ŒìŠ¤ì½”ë“œë¥¼ ë‹¤ì‹œ ì»´íŒŒì¼í•˜ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤

- Ex1) : eunm ì‚¬ìš©

    ```java
    package com.javateam.jse;

    public enum Season {
        
        // SPRING,SUMMER,FALL,WINTER;
        SPRING("ë´„",1),SUMMER("ì—¬ë¦„",2),FALL("ê°€ì„",3),WINTER("ê²¨ìš¸",4);

        private String name;
        private int num;

        Season(String name,int num){
            this.name = name; // ë©¤ë²„ í•„ë“œ <= ì¸ì
            this.num = num;
        }

        public String getName() {
            return name;
        }

        public int getNum() {
            return num;
        }



        public static void main(String[] args) {
            
            Season season = Season.SPRING;
            
            System.out.println(Season.SPRING);
            // System.out.println(Season.valueOf("SPRING"));
            // System.out.println(season);
            
            System.out.println(Season.SPRING); // SPRING ì¶œë ¥
            System.out.println(Season.SPRING.name); // ë´„ ì¶œë ¥
            System.out.println(Season.SPRING.num); // 1 ì¶œë ¥


        }

    }

    ```
- Ex2) : class ì‚¬ìš©

    ```java
    package com.javateam.jse;

    public class Season2 {

        // class ì´ìš©ì‹œ final(ê°’ì´ ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤) ì‚¬ìš©
        public static final int SPRING = 0;
        public static final int SUMMER = 1;
        public static final int FALL = 2;
        public static final int WINTER = 3;
        public static void main(String[] args) {

            System.out.println(Season2.SPRING);
        }
    }
    ```
