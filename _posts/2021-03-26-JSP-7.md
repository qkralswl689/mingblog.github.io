---
layout: post
title: "JSP - JSP 2.3 & Servlet3.1 - JSTL과EL (core:out,url,param,if,choose,catch,forEach)  "
date: 2021-03-26
category : [JSP]
comments: true
---

## 🔷 JSP 2.3 & Servlet3.1 - JSTL과EL (core:out,url,param,if,choose,catch,forEach)

### ✔ JSTL core : out 

    - <c:out> : 출력

- JSTL core(out) 
    ```xml
    <%@ page contentType="text/html; charset=UTF-8" %>
    <%@ page import = "java.io.IOException, java.io.FileReader" %>
    <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
    <!doctype html>
    <html lang="ko">
    <head>
    <meta charset="UTF-8" />
    <title>&lt;c:out&gt;</title>
    </head>
    <body>

    <!-- xml 태그 및 & 특수문 자 표기에서의 차이 -->
    <c:set var="temp" value="JSTL &amp; EL, <tag> " />
    <!-- 만약 2), 3)의 경우에서 태그가 제대로 나오려면 아래의 구문으로 교체합니다. -->
    <!--<c:set var="temp" value="JSTL &amp; EL, &lt;tag&gt; " /> -->

    <!-- escapeXml= "" : escape문자 처리여부 표기 
    true : escape문자 해석 X, flase : escape 문자 해석 O-->
    1) escapeXml="true" : <c:out value="${temp}" escapeXml="true" /><br>
    2) escapeXml="false" : <c:out value="${temp}" escapeXml="false" /><br>
    3) EL : ${temp} 
    </body>
    </html>
    ```
    
▶ 출력화면
![c,out](https://user-images.githubusercontent.com/65608960/112580273-81fc2e80-8e39-11eb-9a76-23c582002447.JPG)


### ✔ JSTL core : url,param

    - <c:url> : URL 링크
    - <c:param> : 인자 전달

- JSTL core(url,param) 
    ```xml
    <%@ page contentType="text/html; charset=UTF-8" session="false" %>
    <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>

    <!doctype html>
    <html lang="ko">
    <head>
    <meta charset="UTF-8" />
    </head>
    <body>
    <!-- c:url value="http://search.daum.net/search" : 절대경로 찾기 편리하도록 한것 -->
    context Path(경로) : ${pageContext.request.contextPath}<br>
    context Path(경로) : <%=request.getContextPath() %>
    <c:url value="http://search.daum.net/search" var="searchUrl">
        <c:param name="w" value="blog" />
        <c:param name="q" value="공원" />
    </c:url>

    <ul>
        <li><a href="${searchUrl}">링크1</a></li>
        <!-- /경로와 ./경로의 차이
            / : 현재경로(jstl)를 생략하기 때문에 오류가 난다  -->
        <li><a href="<c:url value="/use_if_tag.jsp" />">링크2</a></li>
        <li><a href="<c:url value="./use_if_tag.jsp" />">링크3</a></li>
    </ul>

    </body>
    </html>
    ```
    
▶ 출력화면
![c,url](https://user-images.githubusercontent.com/65608960/112581235-c25bac80-8e39-11eb-9829-1ed4ca67c3a7.JPG)


### ✔ JSTL core : if

    - <c:if> : 조건문    

- JSTL core(if) 
    ```xml
    <%@ page contentType="text/html; charset=UTF-8" %>
    <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
    <!doctype html>
    <html lang="ko">
    <head>
    <meta charset="UTF-8" />
    <title>if 태그</title>
    </head>
    <body>
    <c:if test="true">
    무조건 수행<br>
    </c:if>

    <!-- 아래(EL)와 같은표현 이지만 사용 X -->
    <!--<c:if test='<%=request.getParameter("name").equals("bk") %>'>-->
    <!--선조건 해당되면  조건문을 빠져나간다-->
    <c:if test="${param.name == 'bk'}">
    name 파라미터의 값이 ${param.name} 입니다.<br>
    </c:if>
    age : ${param.age }<br>
    <c:if test='<%=Integer.parseInt(request.getParameter("age")) > 18 %>'>
    <!-- <c:if test="${18 < param.age}">-->
    당신의 나이는 18세 이상입니다.
    </c:if>
    </body>
    </html>
    ```

▶ 출력화면
![c,if](https://user-images.githubusercontent.com/65608960/112583864-73624700-8e3a-11eb-886b-ed8be60e45da.JPG)


### ✔ JSTL core : choose,when,otherwise

    - <c:choose> : 조건문
    - <c:when> : 조건문
    - <c:otherwise> : 조건문
    - if,else if와 같다

- JSTL core(choose,when,otherwise) 
    ```xml
    <%@ page contentType="text/html; charset=UTF-8" %>
    <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
    <!doctype html>
    <html lang="ko">
    <head>
    <meta charset="UTF-8" />
    <title>choose 태그</title>
    </head>
    <body>

    <ul>
    <c:choose> 

        <!-- 선조건 해당되면  조건문을 빠져나간다  -->
    <c:when test="${param.name == 'bk'}" > 
        <li> 당신의 이름은 ${param.name} 입니다.</li>
    </c:when> 
    <c:when test="${param.age >= 20}" > 
        <li> 당신은 20세 이상입니다.</li>
    </c:when> 
    <c:otherwise> 
        <li> 당신은 'bk'가 아니고 20세 이상이 아닙니다.</li>
    </c:otherwise> 
    </c:choose> 
    </ul>

    </body>
    </html>
    ```

▶ 출력화면
![c,choose](https://user-images.githubusercontent.com/65608960/112584338-03a08c00-8e3b-11eb-8b5b-3cbe98f1dcd9.JPG)


### ✔ JSTL core : catch

    - <c:catch> : 예외처리   

- JSTL core(catch) 
    ```xml
    <%@ page contentType="text/html; charset=UTF-8" %>
    <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
    <!doctype html>
    <html lang="ko">
    <head>
    <meta charset="UTF-8" />
    <title>catch 태그</title>
    </head>
    <body>

    <c:catch var="ex">
    name 파라미터의 값 = <%= request.getParameter("name") %><br>
    <%  if (request.getParameter("name").equals("test")) {  %>
    ${param.name}은 test 입니다.
    <%  }   %>
    </c:catch>
    <p>
    <!-- 두가지 다 같은결과 도출 -->
    <!-- <c:if test = "${not empty ex }" > -->
    <c:if test="${ex != null}">
    예외가 발생하였습니다:<br>
    ${ex}
    </c:if>

    </body>
    </html>
    ```

▶ 출력화면
![c,catch](https://user-images.githubusercontent.com/65608960/112584500-4bbfae80-8e3b-11eb-84a8-884f8c721f3f.JPG)

### ✔ JSTL core : forEach

    - <c:forEach> : 반복문   

- JSTL core(forEach) 
    ```xml
    <%@ page contentType="text/html; charset=UTF-8" %>
    <%@ page import="java.util.HashMap" %>
    <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
    <%
        HashMap<String,Object> mapData = new HashMap<String,Object>();
        mapData.put("name", "JSP");
        mapData.put("today", new java.util.Date());
    %>
    <c:set var="intArray" value="<%= new int[] {1,2,3,4,5} %>" />
    <c:set var="map" value="<%= mapData %>" />
    <!doctype html>
    <html lang="ko">
    <head>
    <meta charset="UTF-8" />
    <title>forEach 태그</title>
    </head>
    <body>
    <h4>1부터 100까지 홀수의 합</h4>
    <c:set var="sum" value="0" />
    <!-- begin, end 꼭 안써도 된다 -->
    <c:forEach var="i" begin="1" end="100" step="2">
    <!-- c:set 또 사용하면 재정의 된다 , 사용가능하다 -->
    <c:set var="sum" value="${sum + i}" />
    </c:forEach>
    결과 = ${sum}

    <h4>구구단: 4단</h4>
    <ul>
    <c:forEach var="i" begin="1" end="9">
        <li>4 * ${i} = ${4 * i}
    </c:forEach>
    </ul>

    <h4>int형 배열</h4>

    <c:forEach var="i" items="${intArray}" begin="2" end="4" varStatus="status">
        ${status.index}-${status.count}-[${i}] <br />
    </c:forEach>

    <h4>Map</h4>

    <c:forEach var="i" items="${map}">
        ${i.key} = ${i.value}<br>
    </c:forEach>

    </body>
    </html>
    ```

▶ 출력화면
![c,foreach](https://user-images.githubusercontent.com/65608960/112584633-8a556900-8e3b-11eb-8584-4bb7dac271ba.JPG)
