---
layout: post
title: "JSP - JSP 2.3 & Servlet3.1 - ë‚´ì¥ ê°ì²´ì™€ ì•¡ì…˜ íƒœê·¸"
date: 2021-03-22
category : [JSP]
comments: true
---

## ğŸ”·  JSP 2.3 & Servlet3.1 - ë‚´ì¥ ê°ì²´ì™€ ì•¡ì…˜ íƒœê·¸

âœ”  ë‚´ì¥ ê°ì²´ 

    - ì›¹ ì»¨í…Œì´ë„ˆê°€ JSP í˜ì´ì§€ë¥¼ ì„œë¸”ë¦¿ í´ë˜ìŠ¤ë¡œ ë³€í™˜í•˜ë©´ì„œ ì‚¬ìš©ìì˜ ìš”ì²­ì— ë§ëŠ” ì‘ë‹µ í˜ì´ì§€ë¥¼ 
    ìƒì„±í•˜ê¸°ìœ„í•´ ì‚¬ìš©ë˜ëŠ” javax.servlet íŒ¨í‚¤ì§€ ë‚´ë¶€ì— ìˆëŠ” ê³ ì •ëœ ì´ë¦„ì˜ ê°ì²´

ğŸ’¡ ë‚´ì¥ ê°ì²´ì˜ ì¢…ë¥˜
![ë‚´ì¥ê°ì²´ì¢…ë¥˜](https://user-images.githubusercontent.com/65608960/111959219-85d63b00-8b31-11eb-945c-a7bffc536c7e.JPG)

âœ”  request ê°ì²´

    - ì„œë¸”ë¦¿ì—ê²Œ ì‚¬ìš©ìì˜ ìš”ì²­ì— ê´€ë ¨ëœ ë°ì´í„°ë“¤ì„ ë³´ë‚´ì£¼ëŠ” ì—­í• ì„ í•˜ëŠ” ê°ì²´

ğŸ’¡ request(ìš”ì²­) íŒŒë¼ë¯¸í„°ì™€ ê´€ë ¨ëœ ë©”ì†Œë“œ
![request íŒŒë¼ë¯¸í„°ì™€ ê´€ë ¨ëœ ë©”ì†Œë“œ](https://user-images.githubusercontent.com/65608960/111959669-1b71ca80-8b32-11eb-869a-e65f9bbebe1f.JPG)

- ì˜ˆì œ(form)
    ```js
    <%@ page contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
    <!DOCTYPE html>
    <html lang="ko">
    <head>
    <meta charset="UTF-8">
    <title>Request Test</title>
    <style>
    <%-- h1íƒœê·¸ ì˜ì—­ê³¼ ì•„ì´ë”” ì†ì„± ê°’ì´ commandCellì¸ ì˜ì—­ì˜ ë‚´ìš©ë“¤ì„ ê°€ìš´ë° ì •ë ¬í•´ì„œ ì¶œë ¥ --%>

    h1,#commandCell{
    text-align: center;
    }

    <%-- table íƒœê·¸ ì˜ì—­ì„ í™”ë©´ì˜ ê°€ìš´ë° ì •ë ¬í•˜ê³  width ì†ì„±ê°’ê³¼ borderì†ì„± ê°’ì„ ì„¤ì •--%>

    table{
        margin : auto;
        width: 400px;
        border : 1px solid red;
        }
    </style>
    </head>
    <body>
        <h1>Request ì˜ˆì œì…ë‹ˆë‹¤.</h1>
        <form action="requestTest1.jsp" method="post">
        <table>
            <tr>
                <td><lable for ="name">ì´ë¦„</lable></td>
                <td><input type="text" name="name" id="name"></td>
            </tr>
            <tr>
                <td><lable for ="gender">ì„±ë³„</lable></td>
                <td>ë‚¨<input type="radio" name="gender" value="male" id="gender">
                    ì—¬<input type="radio" name="gender" value="female">
                </td>
            </tr>
            <tr>
                <td><label for="hobby">ì·¨ë¯¸</label></td>
                <td>ë…ì„œ<input type="checkbox" name="hobby" value="ë…ì„œ" id="hobby">
                    ê²Œì„<input type="checkbox" name="hobby" value="ê²Œì„" id="hobby">
                    TVì‹œì²­<input type="checkbox" name="hobby" value="TVì‹œì²­" id="hobby">
                    ì¶•êµ¬<input type="checkbox" name="hobby" value="ì¶•êµ¬" id="hobby">
                    ê¸°íƒ€<input type="checkbox" name="hobby" value="ê¸°íƒ€" id="hobby">
                </td>
            </tr>
            <tr>
                <td colspan="2" id="commandCell"><input type="submit" value="ì „ì†¡"></td>
            </tr>
        </table>
        
        </form>

    </body>
    </html>
    ```
â–¶ ì¶œë ¥í™”ë©´
![reqì˜ˆì œ1](https://user-images.githubusercontent.com/65608960/111960464-21b47680-8b33-11eb-9d7b-83d1b90d35ab.JPG)

    ğŸˆ ìœ„ í™”ë©´ì—ì„œ ì´ë¦„ì„ ì…ë ¥í•˜ê³  ì„±ë³„, ì·¨ë¯¸ë¥¼ ì„ íƒí•œ í›„ <ì „ì†¡>ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì†ŒìŠ¤ì˜ form íƒœê·¸ì—ì„œ 
       ì§€ì •ëœ requestTest1.jsp í˜ì´ì§€ë¡œ ìš”ì²­ì´ ì „ì†¡ëœë‹¤

- ì½”ë“œ(test)
    ```js
    <%@ page contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
    <%-- íŒŒë¼ë¯¸í„°ì˜ í•œê¸€ ì²˜ë¦¬ë¥¼ ìœ„í•´ request ê°ì²´ì˜ ë¬¸ìì…‹ ì¸ì½”ë”© ë°©ì‹ì„ UTF-8 ë¡œ ì§€ì • --%>
    <%request.setCharacterEncoding("UTF-8"); %>
    <!DOCTYPE html>
    <html lang="ko">
    <head>
    <meta charset="UTF-8">
    <title>Request Test</title>
    <style>
    h1 {
        text-align:center;
    }
    table{
        margin : auto;
        width: 400px;
        border : 1px solid red;
        }
    </style>
    </head>
    <body>
        <h1>Request ì˜ˆì œì…ë‹ˆë‹¤.</h1>
        <table>
            <tr>
                <td>ì´ë¦„</td>
                <%-- nameì´ë€ ì´ë¦„ì„ ê°€ì§„ íŒŒë¼ë¯¸í„° ê°’ì„ ì–»ì–´ì™€ í‘œí˜„ì‹ìœ¼ë¡œ ì¶œë ¥ --%>
                <td><%=request.getParameter("name") %></td>
            </tr>
            <tr>
                <td>ì„±ë³„</td>
                <td>
                    <%-- genderë€ ì´ë¦„ì„ ê°€ì§„ íŒŒë¼ë¯¸ì²˜ ê°’ì´ maleì¼ ê²½ìš° ì„±ë³„ì„ ë‚¨ì,femaleê²½ìš° ì—¬ìë¡œ ì¶œë ¥ --%>
                    <%if(request.getParameter("gender").equals("male")) {%>ë‚¨ì
                    <%}else {%>ì—¬ì<%} %>
                </td>
            </tr>
            <tr>
                <%-- hobbyë€ ì´ë¦„ì„ ê°€ì§„ ì°¨ë¼ë¯¸í„°ëŠ” ì—¬ëŸ¬ê°œì˜ ê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— getParameterValues ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬
                    String ë°°ì—´ë¡œ ê°’ì„ ê°€ì ¸ì˜¨ ë’¤ forë¬¸ì„ ì´ìš©í•´ String ë°°ì—´ì— ì €ì¥ëœ ê°’ì„ ëª¨ë‘ ì¶œë ¥ --%>
                <td>ì·¨ë¯¸</td>
                <td>
                    <%
                    String[] hobby=request.getParameterValues("hobby");
                    for(int i=0; i<hobby.length;i++){
                    %>
                    <%=hobby[i] %> &nbsp;&nbsp;	
                    <%} %>
                </td>
            </tr>
        </table>
    </body>
    </html>
    ```

â–¶ ì¶œë ¥í™”ë©´
![reqì˜ˆì œ1-1](https://user-images.githubusercontent.com/65608960/111960853-9d162800-8b33-11eb-8388-c9ac23d73cfd.JPG)

    ğŸˆ ì „ì†¡ë°›ì€ íŒŒë¼ë¯¸í„°ë“¤ì„ ë‚´ì¥ ê°ì²´ì¸ requestë¥¼ í†µí•´ì„œ ì–»ì–´ë‚´ í™”ë©´ì— ì¶œë ¥í•œë‹¤

ğŸ–‹ request ì—°ìŠµ
- html ì‘ì„±
    ```html
    <!DOCTYPE html>
    <html>
    <head>
    <meta charset="UTF-8">
    <title>Insert title here</title>
    </head>
    <body>
        <!-- formì˜ ì´ë¦„ì€ frmì´ê³  action1.jspíŒŒì¼ì˜ ì•¡ì…˜ì„ ìˆ˜í–‰í•˜ê³  getíƒ€ì…ìœ¼ë¡œ ì¸ìë¥¼ ë°›ëŠ”ë‹¤ -->
        <form name="frm" action="action1.jsp" method="get">
            - ì•„ì´ë”” : <input type="text" id="id" name="id" /><br> 
            - íŒ¨ìŠ¤ì›Œë“œ : <input type="password" id="pw" name="pw" /><br> 
            - ì´ë¦„ : <input type="text" id="name" name="name" /><br> 
            - ì£¼ì†Œ : <input type="text" id="address" name="address" /><br>
            - ì·¨ë¯¸ : ìŠ¤í¬ì¸ <input type="checkbox" id="hobby1" name="hobby" value="ìŠ¤í¬ì¸ "/>&nbsp;
                    ë…ì„œ<input type="checkbox" id="hobby2" name="hobby" value="ë…ì„œ" />&nbsp;
                    ì˜í™”ê°ìƒ<input type="checkbox" id="hobby3" name="hobby" value="ì˜í™”ê°ìƒ" />&nbsp;
                    ìš”ë¦¬<input type="checkbox" id="hobby4" name="hobby" value="ìš”ë¦¬"/><br>
            <input type="submit" value="ì „ì†¡">
            
        </form>
    </body>
    </html>
    ```

â–¶ ì¶œë ¥í™”ë©´
![reqhtml](https://user-images.githubusercontent.com/65608960/111966380-334d4c80-8b3a-11eb-8980-04d3f7b1e7cf.JPG)

- jsp ì‘ì„±
    ```js
    <%@ page contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
    <%-- Map,Set,Iterator import --%>
    <%@page import="java.util.Map , java.util.Set, java.util.Iterator" %>
    <!DOCTYPE html>
    <html lang="ko">
    <head>
    <meta charset="UTF-8">
    <title>action</title>
    </head>
    <body>
    <%
        // UTF-8ë¡œ ë¬´ì¡°ê±´ ì¸ì½”ë”©
        request.setCharacterEncoding("UTF-8");

        // id : íŒŒë¼ë¯¸í„° id ë¥¼ ì–»ì–´ ê°’ì´ nullì´ë©´ ì—†ìŒì¶œë ¥í•˜ê³  ê°’ì´ ìˆìœ¼ë©´ idë¥¼ ì¶œë ¥í•œë‹¤
        String id = request.getParameter("id") == null ? "ì—†ìŒ" : request.getParameter("id");
        String pw = request.getParameter("pw") == null ? "ì—†ìŒ" : request.getParameter("pw");
        String name = request.getParameter("name") == null ? "ì—†ìŒ" : request.getParameter("name");
        String address = request.getParameter("address") == null ? "ì—†ìŒ" : request.getParameter("address");

        // hobby ê°’ ì €ì¥í•  ë°°ì—´ ìƒì„±
        // mapì€ keyì™€ valueë¡œ êµ¬ì„±ë˜ì–´ìˆë‹¤
        Map<String, String[]> map = request.getParameterMap();
        // setì€ ì €ì¥ìˆœì„œê°€ ê³ ì •ë˜ì–´ìˆì§€ ì•Šë‹¤
        // keySet() : ëª¨ë“  keyë¥¼ setê°ì²´ì— ë‹´ì•„ì„œ ë¦¬í„´í•œë‹¤
        Set<String> keys = map.keySet();
        // Iterator : ë°˜ë³µì => ìˆœì„œê°€ ì—†ëŠ” ê²ƒì— ìˆœì„œë¥¼ ë¶€ì—¬í•˜ëŠ” í´ë˜ìŠ¤
        //  ë°˜ë³µìë¡œ keyë¥¼ í•˜ë‚˜ì”© ì–»ì–´ì„œ get() ë©”ì†Œë“œë¡œ ê°’ì„ ì–»ëŠ”ë‹¤
        Iterator<String> it = keys.iterator();
        while(it.hasNext()){
            String key = it.next(); // keyë¥¼ ë½‘ì•„ì˜¨ë‹¤
            String values[] = map.get(key);// keyì˜ ê°’ì„ ë¦¬í„´í•˜ëŠ” ë°°ì—´ values
            
            if(values.length == 1){ // ë°°ì—´ì˜ ê°’ì´ 1ì´ë¼ë©´
                
                // Key ì™€ ë°°ì—´ì˜ 0ë²ˆì§¸ ìˆëŠ” ê°’ì„ ì¶œë ¥í•œë‹¤ 
                out.println(key + " = " + values[0] + "<br>");
                
            }else{ // 1ì´ ì•„ë‹ˆë¼ë©´
                
                // key ë§Œ ì¶œë ¥í•œë‹¤
                out.print(key + " = ");
                
            // s : valuesì— ë“¤ì–´ìˆëŠ” ê²ƒê³¼ ê°™ì€ íƒ€ì…ìœ¼ë¡œ ì„ ì–¸
            // values ì˜ ê¸¸ì´ë§Œí¼ ë°˜ë³µí•˜ë©´ì„œ
                for(String s : values) { 
                    
                    // sì— ë°°ì—´ì˜ ê°’ì„ ëŒ€ì…í•˜ì—¬ ì¶œë ¥í•œë‹¤
                    out.print(s + " ") ; 
                }
                // í•œì¤„ ë„ê¸°
            } out.print("<br>");
        }
    %>
    </body>
    </html>
    ```

â–¶ ì¶œë ¥í™”ë©´(parameter ì…ë ¥)
![reqì…ë ¥](https://user-images.githubusercontent.com/65608960/111966378-334d4c80-8b3a-11eb-9cab-d7f8674794cf.JPG)

â–¶ ì¶œë ¥í™”ë©´(ì •ë³´ ì¶œë ¥)
![reqaction](https://user-images.githubusercontent.com/65608960/111966375-321c1f80-8b3a-11eb-842b-47b0a5fa9e08.JPG)


ğŸ’¡HTTP í—¤ë” ì •ë³´ì™€ ê´€ë ¨ëœ ë©”ì†Œë“œë“¤
![âˆš HTTP í—¤ë” ì •ë³´ì™€ ê´€ë ¨ëœ ë©”ì†Œë“œë“¤](https://user-images.githubusercontent.com/65608960/111959666-1b71ca80-8b32-11eb-8469-b89a08104f0f.JPG)

ğŸ’¡ì„¸ì…˜ ì •ë³´ì™€ ê´€ë ¨ëœ ë©”ì†Œë“œë“¤
![ì„¸ì…˜ì •ë³´ì™€ ê´€ë ¨ëœ ë©”ì†Œë“œë“¤](https://user-images.githubusercontent.com/65608960/111959665-1ad93400-8b32-11eb-879f-66449492a983.JPG)

ğŸ’¡ì¿ í‚¤, URL/URI, ìš”ì²­ ë°©ì‹ê³¼ ê´€ë ¨ëœ ë©”ì†Œë“œë“¤
![ì¿ í‚¤ ì •ë³´ì™€ ê´€ë ¨ëœ ë©”ì†Œë“œë“¤](https://user-images.githubusercontent.com/65608960/111959905-6d1a5500-8b32-11eb-9b13-2bf4c1e80a65.JPG)

ğŸˆ 
